<!DOCTYPE html><html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Roulette PRO - DUK</title>
<style>
body{
    background:#0b0b0b;
    color:#fff;
    text-align:center;
    font-family:Arial;
}

.mode-box{margin:10px;}
.mode-btn{
    padding:8px 15px;
    margin:5px;
    background:#222;
    color:#fff;
    border:none;
    border-radius:5px;
}
.mode-btn.active{
    background:#00c3ff;
}

.columns{
    display:flex;
    justify-content:center;
    margin-top:10px;
}

.col{
    margin:5px;
    padding:5px;
    border:1px solid #333;
}

.col-title{
    margin-bottom:5px;
}

.grid{
    display:grid;
    grid-template-columns:repeat(3,40px);
}

.num{
    width:40px;
    height:40px;
    line-height:40px;
    margin:2px;
    cursor:pointer;
    border-radius:4px;
    font-weight:bold;
}

.zero{
    width:60px;
    margin:auto;
    padding:10px;
    background:green;
    border-radius:6px;
    cursor:pointer;
}

.active-col{
    border:2px solid #00ffcc;
    box-shadow:0 0 10px #00ffcc;
}

.bar-bg{
    width:80%;
    height:10px;
    background:#222;
    margin:5px auto;
}

.bar{
    height:10px;
    width:0%;
    background:#00ffcc;
}

.history{
    margin-top:10px;
    font-size:14px;
}
.scan{
    animation: scanGlow 0.8s infinite alternate;
}

@keyframes scanGlow{
    from{ box-shadow:0 0 5px #00ffcc; }
    to{ box-shadow:0 0 25px #00ffcc; }
}
/* ===== BOX CHUNG ===== */
.box{
    width:90%;
    margin:10px auto;
    padding:10px;
    background:#111;
    border-radius:10px;
    border:1px solid #222;
}

/* ===== THANH % ===== */
.bar-bg{
    width:100%;
    height:14px;
    background:#222;
    border-radius:10px;
    margin:6px 0;
    overflow:hidden;
}

.bar{
    height:100%;
    width:0%;
    transition:0.3s;
}

/* M·ª©c m·∫°nh */
.weak{ background:#e74c3c; }      /* ƒë·ªè */
.medium{ background:#f1c40f; }    /* v√†ng */
.strong{ background:#00ffc8; }    /* xanh */

/* ===== BOX AI ===== */
.ai-box{
    font-size:16px;
    font-weight:bold;
    color:#00ffc8;
    text-align:center;
}

/* ===== L·ªäCH S·ª¨ ===== */
.history-box{
    font-size:14px;
    letter-spacing:2px;
    word-wrap:break-word;
    color:#ccc;
}
</style>
</head>
<body><h3>Roulette PRO - DUK</h3><div class="mode-box">
<button class="mode-btn active" id="riskBtn" onclick="setMode('risk')">Risk</button>
<button class="mode-btn" id="safeBtn" onclick="setMode('safe')">Safe</button>
</div><div class="zero" onclick="addNumber(0)">0</div><div class="columns">
<div class="col" id="col1"><div class="col-title">C·ªôt 1</div><div class="grid" id="g1"></div></div>
<div class="col" id="col2"><div class="col-title">C·ªôt 2</div><div class="grid" id="g2"></div></div>
<div class="col" id="col3"><div class="col-title">C·ªôt 3</div><div class="grid" id="g3"></div></div>
</div>
<!-- ===== BOX % ===== -->
<div class="box">
    <div class="bar-bg"><div class="bar" id="b1"></div></div>
    <div class="bar-bg"><div class="bar" id="b2"></div></div>
    <div class="bar-bg"><div class="bar" id="b3"></div></div>
</div>

<!-- ===== BOX AI ===== -->
<div class="box ai-box">
    <div id="ai">DUK - ƒêang ph√¢n t√≠ch...</div>
    <div id="winrate">T·ª∂ L·ªÜ TH·∫ÆNG: 0%</div>
</div>

<!-- ===== BOX L·ªäCH S·ª¨ ===== -->
<div class="box history-box" id="history">
</div>

<script>
// ===== C·∫§U H√åNH =====
let history = [];
let maxHistory = 15;
let mode = "risk";
let lastPrediction = null;
let win = 0;
let total = 0;
let doubleMode = true; // b·∫≠t ƒë√°nh 2 c·ªôt
let predictCols = []; // l∆∞u c√°c c·ªôt AI theo
let lastAI = "";
let lockedPercent = {c1:0,c2:0,c3:0};
let lockState = false;
let lose = 0;
let lastSignal = "";
let lockReady = false;

function getColumn(num){
    if(num==0) return 0;
    if(num%3==1) return 1;
    if(num%3==2) return 2;
    return 3;
}

// ===== M√ÄU ROULETTE CHU·∫®N =====
const redNums = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

// ===== CH·∫æ ƒê·ªò =====
function setMode(m){
    mode = m;
    document.getElementById("riskBtn").classList.remove("active");
    document.getElementById("safeBtn").classList.remove("active");

    if(m=="risk"){
        document.getElementById("riskBtn").classList.add("active");
    }else{
        document.getElementById("safeBtn").classList.add("active");
    }
}

// ===== T·∫†O B·∫¢NG S·ªê =====
function createGrid(){
    for(let i=1;i<=36;i++){
        let btn = document.createElement("div");
        btn.className="num";
        btn.innerText=i;
        btn.onclick=()=>addNumber(i);

        // M√†u ƒë·ªè ƒëen
        if(redNums.includes(i)){
            btn.style.background="#c0392b";
        }else{
            btn.style.background="#111";
        }

        // Chia c·ªôt gi·ªëng b√†n th·∫≠t
        if(i%3==1){
            document.getElementById("g1").appendChild(btn);
        }else if(i%3==2){
            document.getElementById("g2").appendChild(btn);
        }else{
            document.getElementById("g3").appendChild(btn);
        }
    }
}
createGrid();

function scanEffect(callback){
    let cols = ["col1","col2","col3"];
    let i = 0;
    let loop = setInterval(()=>{
        cols.forEach(c=>{
            document.getElementById(c).classList.remove("scan");
        });

        document.getElementById(cols[i]).classList.add("scan");
        i++;

        if(i>=6){
            clearInterval(loop);
            cols.forEach(c=>{
                document.getElementById(c).classList.remove("scan");
            });
            callback();
        }
    },120);
}

// ===== TH√äM K·∫æT QU·∫¢ =====
function addNumber(n){

    // ===== N·∫øu ra 0 ‚Üí RESET =====
if(n === 0){
    history = [];
    win = 0;
    lose = 0;
    total = 0;
    predictCols = [];
    lastPrediction = null;

    // reset kh√≥a %
    lockedPercent = {c1:0,c2:0,c3:0};
    lockReady = false;
    lastSignal = "";

    document.getElementById("b1").style.width = "0%";
    document.getElementById("b2").style.width = "0%";
    document.getElementById("b3").style.width = "0%";

    document.getElementById("col1").classList.remove("active-col");
    document.getElementById("col2").classList.remove("active-col");
    document.getElementById("col3").classList.remove("active-col");

    document.getElementById("ai").innerText = "‚õî Reset (ra 0)";
    document.getElementById("winrate").innerText = "Win rate: 0%";
    document.getElementById("history").innerText = "";

    return;
}

    // ===== Th√™m k·∫øt qu·∫£ b√¨nh th∆∞·ªùng =====
    history.unshift(n);
    if(history.length>maxHistory) history.pop();

    updateHistory();
    analyze(n);
}

// ===== HI·ªÇN TH·ªä L·ªäCH S·ª¨ =====
function updateHistory(){
    document.getElementById("history").innerText =
        history.join("  ");
}

// ===== PH√ÇN T√çCH AI =====
function analyze(lastNumber){

// ===== CH·ªà PH√ÇN T√çCH KHI ƒê·ª¶ D·ªÆ LI·ªÜU =====
if(history.length < 10){
    document.getElementById("ai").innerText = "AI ƒëang thu th·∫≠p d·ªØ li·ªáu...";
    return;
}

// ===== ƒê·∫øm 15 v√°n g·∫ßn nh·∫•t =====
let recent = history.slice(0,10);
let c1=0,c2=0,c3=0;

recent.forEach(n=>{
    if(n%3==1) c1++;
    else if(n%3==2) c2++;
    else if(n%3==0) c3++;
});

let p1 = Math.round(c1/recent.length*100);
let p2 = Math.round(c2/recent.length*100);
let p3 = Math.round(c3/recent.length*100);

// ===== KH√ìA % CH·ªêNG NH·∫¢Y =====
let diff = Math.max(
    Math.abs(p1-lockedPercent.c1),
    Math.abs(p2-lockedPercent.c2),
    Math.abs(p3-lockedPercent.c3)
);

// Ch·ªâ kh√≥a khi Risk m·∫°nh
if(lastSignal === "risk"){
    if(!lockReady || diff > 8){
        lockedPercent = {c1:p1,c2:p2,c3:p3};
        lockReady = true;
    }

    p1 = lockedPercent.c1;
    p2 = lockedPercent.c2;
    p3 = lockedPercent.c3;
}else{
    // Safe ho·∫∑c NoBet ‚Üí kh√¥ng kh√≥a
    lockedPercent = {c1:p1,c2:p2,c3:p3};
}

p1 = lockedPercent.c1;
p2 = lockedPercent.c2;
p3 = lockedPercent.c3;

    let percent = [p1, p2, p3];

// ===== Nh·∫≠n bi·∫øt b·ªát =====
let last5 = recent.slice(0,5).map(getColumn);
let isBiet = last5.every(v => v === last5[0]);

// ===== Nh·∫≠n bi·∫øt g√£y =====
let last3 = recent.slice(0,3).map(getColumn);
let zigzag = new Set(last3).size >= 2;

let max = Math.max(percent[0],percent[1],percent[2]);
let min = Math.min(percent[0],percent[1],percent[2]);

predictCols = [];
let signal = "";

// üî• Risk m·∫°nh (b·ªát th·∫≠t)
if(isBiet && max >= 45){
    let col = percent.indexOf(max) + 1;
    predictCols = [col];
    signal = "üî• Risk C·ªòT M·∫†NH";
    lastSignal = "risk";
}

// ‚ö† Safe y·∫øu (2 c·ªôt y·∫øu)
else if(max >= 38 && (max-min) >= 10){
    let arr = [
        {c:1,v:percent[0]},
        {c:2,v:percent[1]},
        {c:3,v:percent[2]}
    ];

    arr.sort((a,b)=>a.v-b.v);
    predictCols = [arr[0].c, arr[1].c];

    signal = "‚ö† Safe C·ªòT Y·∫æU";
    lastSignal = "safe";
}

// ‚õî KH√îNG N√äN C∆Ø·ª¢C (g√£y ho·∫∑c nhi·ªÖu)
else{
    predictCols = [];
    signal = "‚õî NO BET";
    lastSignal = "";
}

lastPrediction = predictCols;

    // ===== HIGHLIGHT C·ªòT =====
scanEffect(()=>{
    document.getElementById("col1").classList.remove("active-col");
    document.getElementById("col2").classList.remove("active-col");
    document.getElementById("col3").classList.remove("active-col");

    predictCols.forEach(c=>{
        document.getElementById("col"+c).classList.add("active-col");
    });
});

    // ===== THANH % =====
    setBar("b1", percent[0]);
    setBar("b2", percent[1]);
    setBar("b3", percent[2]);

if(predictCols.length > 0){
    document.getElementById("ai").innerText =
        signal + " ‚Üí C·ªôt " + predictCols.join(" + ");
}else{
    document.getElementById("ai").innerText = signal;
}

function setBar(id, p){
    let bar = document.getElementById(id);
    bar.style.width = p + "%";

    bar.classList.remove("weak","medium","strong");

    if(p < 30){
        bar.classList.add("weak");
    }else if(p < 50){
        bar.classList.add("medium");
    }else{
        bar.classList.add("strong");
    }
}

// ===== WIN RATE =====
if(lastPrediction.length > 0){

    total++;   // <<< THI·∫æU D√íNG N√ÄY

    let realCol = getColumn(lastNumber);

    if(lastPrediction.includes(realCol)){
        win++;
    }else{
        lose++;
    }
}

let wr = total>0 ? Math.round(win/total*100) : 0;
document.getElementById("winrate").innerText =
"T·ª∂ L·ªÜ TH·∫ÆNG: " + wr + "%";
}
</script>

</body>
</html>
