<!DOCTYPE html><html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Roulette AI PRO+</title>
<style>
body{
    background:#0b0b0b;
    color:#fff;
    text-align:center;
    font-family:Arial;
}

.mode-box{margin:10px;}
.mode-btn{
    padding:8px 15px;
    margin:5px;
    background:#222;
    color:#fff;
    border:none;
    border-radius:5px;
}
.mode-btn.active{
    background:#00c3ff;
}

.columns{
    display:flex;
    justify-content:center;
    margin-top:10px;
}

.col{
    margin:5px;
    padding:5px;
    border:1px solid #333;
}

.col-title{
    margin-bottom:5px;
}

.grid{
    display:grid;
    grid-template-columns:repeat(3,40px);
}

.num{
    width:40px;
    height:40px;
    line-height:40px;
    margin:2px;
    cursor:pointer;
    border-radius:4px;
    font-weight:bold;
}

.zero{
    width:60px;
    margin:auto;
    padding:10px;
    background:green;
    border-radius:6px;
    cursor:pointer;
}

.active-col{
    border:2px solid #00ffcc;
    box-shadow:0 0 10px #00ffcc;
}

.bar-bg{
    width:80%;
    height:10px;
    background:#222;
    margin:5px auto;
}

.bar{
    height:10px;
    width:0%;
    background:#00ffcc;
}

.history{
    margin-top:10px;
    font-size:14px;
}
</style>
</head>
<body><h3>Roulette Europe AI PRO+</h3><div class="mode-box">
<button class="mode-btn active" id="riskBtn" onclick="setMode('risk')">Risk</button>
<button class="mode-btn" id="safeBtn" onclick="setMode('safe')">Safe</button>
</div><div class="zero" onclick="addNumber(0)">0</div><div class="columns">
<div class="col" id="col1"><div class="col-title">Cột 1</div><div class="grid" id="g1"></div></div>
<div class="col" id="col2"><div class="col-title">Cột 2</div><div class="grid" id="g2"></div></div>
<div class="col" id="col3"><div class="col-title">Cột 3</div><div class="grid" id="g3"></div></div>
</div><div class="bar-bg"><div class="bar" id="b1"></div></div>
<div class="bar-bg"><div class="bar" id="b2"></div></div>
<div class="bar-bg"><div class="bar" id="b3"></div></div><div class="info" id="ai">AI: -</div>
<div class="info" id="winrate">Win rate: 0%</div>
<div class="history" id="history"></div>

<script>
// ===== CẤU HÌNH =====
let history = [];
let maxHistory = 15;
let mode = "risk";
let lastPrediction = null;
let win = 0;
let total = 0;

// ===== MÀU ROULETTE CHUẨN =====
const redNums = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];

// ===== CHẾ ĐỘ =====
function setMode(m){
    mode = m;
    document.getElementById("riskBtn").classList.remove("active");
    document.getElementById("safeBtn").classList.remove("active");

    if(m=="risk"){
        document.getElementById("riskBtn").classList.add("active");
    }else{
        document.getElementById("safeBtn").classList.add("active");
    }
}

// ===== TẠO BẢNG SỐ =====
function createGrid(){
    for(let i=1;i<=36;i++){
        let btn = document.createElement("div");
        btn.className="num";
        btn.innerText=i;
        btn.onclick=()=>addNumber(i);

        // Màu đỏ đen
        if(redNums.includes(i)){
            btn.style.background="#c0392b";
        }else{
            btn.style.background="#111";
        }

        // Chia cột giống bàn thật
        if(i%3==1){
            document.getElementById("g1").appendChild(btn);
        }else if(i%3==2){
            document.getElementById("g2").appendChild(btn);
        }else{
            document.getElementById("g3").appendChild(btn);
        }
    }
}
createGrid();

// ===== THÊM KẾT QUẢ =====
function addNumber(n){
    history.unshift(n);
    if(history.length>maxHistory) history.pop();

    updateHistory();
    analyze(n);
}

// ===== HIỂN THỊ LỊCH SỬ =====
function updateHistory(){
    document.getElementById("history").innerText =
        history.join("  ");
}

// ===== PHÂN TÍCH AI =====
function analyze(lastNumber){

    // ===== TÍNH CỘT =====
    let col = [0,0,0];

    history.forEach(n=>{
        if(n==0) return;
        if(n%3==1) col[0]++;
        else if(n%3==2) col[1]++;
        else col[2]++;
    });

    let percent = col.map(v=>{
        if(history.length==0) return 0;
        return Math.round(v/history.length*100);
    });

    // ===== RISK / SAFE =====
    let predictIndex;

    if(mode=="risk"){
        // Theo cột mạnh nhất
        predictIndex = percent.indexOf(Math.max(...percent));
    }else{
        // Theo cột yếu nhất
        predictIndex = percent.indexOf(Math.min(...percent));
    }

    lastPrediction = predictIndex+1;

    // ===== HIGHLIGHT CỘT =====
    document.getElementById("col1").classList.remove("active-col");
    document.getElementById("col2").classList.remove("active-col");
    document.getElementById("col3").classList.remove("active-col");

    document.getElementById("col"+(predictIndex+1))
        .classList.add("active-col");

    // ===== THANH % =====
    document.getElementById("b1").style.width = percent[0]+"%";
    document.getElementById("b2").style.width = percent[1]+"%";
    document.getElementById("b3").style.width = percent[2]+"%";

    // ===== AI TEXT =====
    document.getElementById("ai").innerText =
        "AI theo: Cột "+lastPrediction+
        " ("+percent[predictIndex]+"%)";

    // ===== WIN RATE =====
    if(total>0){
        let wr = Math.round(win/total*100);
        document.getElementById("winrate").innerText =
            "Win rate: "+wr+"%";
    }

    // ===== KIỂM TRA THẮNG =====
    if(total>0){
        let realCol = 0;
        if(lastNumber!=0){
            realCol = lastNumber%3;
            if(realCol==0) realCol=3;
        }

        if(realCol == lastPrediction){
            win++;
        }
    }

    total++;
}
</script>

</body>
</html>
