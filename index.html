<!DOCTYPE html><html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Roulette AI PRO+</title><style>
body{
    margin:0;
    background:#0b0f1a;
    font-family:Arial;
    color:white;
    text-align:center;
}

/* BOARD */
.board{
    display:grid;
    grid-template-columns: repeat(6,1fr);
    gap:5px;
    padding:10px;
}

.num{
    padding:10px;
    border-radius:6px;
    font-weight:bold;
    cursor:pointer;
    background:#1e272e;
}

.green{background:#27ae60;}

/* BAR */
.bar-bg{
    width:90%;
    height:14px;
    background:#222;
    margin:6px auto;
    border-radius:10px;
    overflow:hidden;
}

.bar{
    height:100%;
    width:0%;
    transition:0.3s;
}

/* Nhấp nháy khi >50% */
.flash{
    animation:flash 0.7s infinite;
}

@keyframes flash{
    0%{opacity:1;}
    50%{opacity:0.3;}
    100%{opacity:1;}
}

.info{
    margin:8px;
    font-size:16px;
    color:gold;
    font-weight:bold;
}

.history{
    font-size:12px;
    max-height:80px;
    overflow:auto;
}
</style></head>
<body><h3>Roulette Europe AI PRO+</h3><div class="board" id="board"></div><div>
Cột 1<div class="bar-bg"><div class="bar" id="b1"></div></div>
Cột 2<div class="bar-bg"><div class="bar" id="b2"></div></div>
Cột 3<div class="bar-bg"><div class="bar" id="b3"></div></div>
</div><div class="info" id="strong">Cột mạnh: -</div>
<div class="info" id="pattern">AI: Chưa có dữ liệu</div>
<div class="info" id="safe">SAFE: -</div>
<div class="history" id="history"></div><script>
let history=[];
let columns=[];
let count=[0,0,0,0];

function getColumn(n){
    if(n===0) return 0;
    let r=n%3;
    if(r===1) return 1;
    if(r===2) return 2;
    return 3;
}

function getColor(p){
    if(p>=50) return "lime";
    if(p>=30) return "gold";
    return "red";
}

function setBar(id,p){
    let bar=document.getElementById(id);
    bar.style.width=p+"%";
    bar.style.background=getColor(p);

    // Nhấp nháy khi >50%
    if(p>=50) bar.classList.add("flash");
    else bar.classList.remove("flash");
}

function updateBars(){
    let total=count[1]+count[2]+count[3];
    let p1=total?(count[1]/total*100):0;
    let p2=total?(count[2]/total*100):0;
    let p3=total?(count[3]/total*100):0;

    setBar("b1",p1);
    setBar("b2",p2);
    setBar("b3",p3);

    // Cột mạnh nhất
    let max=Math.max(p1,p2,p3);
    let strong="-";
    if(max>0){
        if(max===p1) strong="Cột 1 ("+max.toFixed(1)+"%)";
        else if(max===p2) strong="Cột 2 ("+max.toFixed(1)+"%)";
        else strong="Cột 3 ("+max.toFixed(1)+"%)";
    }
    document.getElementById("strong").innerText="Cột mạnh: "+strong;
}

function detectPattern(){
    let len=columns.length;
    if(len<4){
        document.getElementById("pattern").innerText="AI: Chưa đủ dữ liệu";
        return;
    }

    let a=columns[len-1];
    let b=columns[len-2];
    let c=columns[len-3];
    let d=columns[len-4];

    // Cầu bệt
    if(a===b && b===c){
        document.getElementById("pattern").innerText=
        "AI: Cầu bệt → Theo Cột "+a;
        return;
    }

    // Zigzag
    if(a===c && b===d && a!==b){
        document.getElementById("pattern").innerText=
        "AI: Zigzag → Theo Cột "+b;
        return;
    }

    // Cầu chạy cơ bản
    if(a===b){
        document.getElementById("pattern").innerText=
        "AI: Cầu chạy → Cột "+a;
        return;
    }

    // Cầu đảo
    let min=Math.min(count[1],count[2],count[3]);
    let col=min===count[1]?1:min===count[2]?2:3;
    document.getElementById("pattern").innerText=
    "AI: Cầu đảo → Cột "+col;
}

function suggestSafe(){
let total = count[1] + count[2] + count[3];

if(total < 3){
    document.getElementById("safe").innerText =
        "SAFE: Chưa đủ dữ liệu";
    return;
}

let p1 = count[1]/total*100;
let p2 = count[2]/total*100;
let p3 = count[3]/total*100;

let min = Math.min(p1, p2, p3);
let text = "";

if(min === p1){
    text = "SAFE → Đánh Cột 2 + Cột 3";
}
else if(min === p2){
    text = "SAFE → Đánh Cột 1 + Cột 3";
}
else{
    text = "SAFE → Đánh Cột 1 + Cột 2";
}

document.getElementById("safe").innerText = text;

}

function resetAll(){
    history=[];
    columns=[];
    count=[0,0,0,0];
    document.getElementById("history").innerText="Reset (ra 0)";
    document.getElementById("pattern").innerText="AI: Reset";
    document.getElementById("strong").innerText="Cột mạnh: -";
    updateBars();
}

function addNumber(n){
    if(n===0){
        resetAll();
        return;
    }

    history.push(n);
    let col=getColumn(n);
    columns.push(col);
    count[col]++;

    document.getElementById("history").innerText=
        "Lịch sử: "+history.join(" - ");

    updateBars();
    detectPattern();
    suggestSafe();
}

function createBoard(){
    let board=document.getElementById("board");
    for(let i=0;i<=36;i++){
        let d=document.createElement("div");
        d.className="num";
        if(i===0) d.classList.add("green");
        d.innerText=i;
        d.onclick=()=>addNumber(i);
        board.appendChild(d);
    }
}

createBoard();
</script></body>
</html>
